-- 切换到数据库
USE cdms;

-- =========================
-- 1. 插入测试外卖员（对应cdms_user表，角色=1表示外卖员）
-- 密码说明：暂存明文'123456'，后续需用BCrypt加密（示例加密后：$2a$10$Gd6P08X9Q4z3y5L7M8N9b0v1c2x3d4f5g6h7j8k9l0）
-- =========================
INSERT INTO cdms.cdms_user (
    username, password, role, phone_no, status, work_status, creator_id
) VALUES
-- 张三：工号隐含在user_id（自增），状态离线（work_status=0），由管理员（creator_id=1）创建
('courier_zhang', '123456', 1, '13800138000', 0, 0, 1),
-- 李四：状态离线，余额通过其他表关联（此处仅存账号信息）
('courier_li', '123456', 1, '13900139000', 0, 0, 1),
-- 王五：状态在线（work_status=1），可接单
('courier_wang', '123456', 1, '13700137000', 0, 1, 1);

-- 说明：外卖员余额建议后续新增关联表（如cdms_courier_wallet），避免与用户表耦合，此处暂不涉及


-- =========================
-- 2. 插入测试待接单订单（对应cdms_delivery_order表，status=0表示待接单）
-- =========================
INSERT INTO cdms.cdms_delivery_order (
    order_id, sender_name, sender_phone, sender_address,
    consignee_name, consignee_phone, consignee_address,
    goods_type, delivery_fee, expected_mins, status, creator_id
) VALUES
-- 订单1：麦当劳朝阳店，配送费8.5元，普通件，待接单（status=0），由管理员（creator_id=1）创建
('ORDER20251026001', '麦当劳（朝阳店）', '010-88886661', '北京市朝阳区建国路88号',
 '李先生', '13500135001', '北京市朝阳区光华路5号院',
 'ordinary', 8.50, 30, 0, 1),

-- 订单2：星巴克望京店，配送费6元，普通件
('ORDER20251026002', '星巴克（望京店）', '010-88886662', '北京市朝阳区望京街9号',
 '王女士', '13500135002', '北京市朝阳区望京西园12区',
 'ordinary', 6.00, 25, 0, 1),

-- 订单3：肯德基国贸店，配送费10元，普通件
('ORDER20251026003', '肯德基（国贸店）', '010-88886663', '北京市朝阳区国贸中心B1层',
 '张先生', '13500135003', '北京市朝阳区国贸公寓A座',
 'ordinary', 10.00, 35, 0, 1),

-- 订单4：美团外卖三里屯店，配送费7.2元，普通件
('ORDER20251026004', '美团外卖（三里屯店）', '010-88886664', '北京市朝阳区三里屯路19号',
 '赵女士', '13500135004', '北京市朝阳区三里屯SOHO C座',
 'ordinary', 7.20, 20, 0, 1),

-- 订单5：饿了么亚运村店，配送费9.3元，生鲜件（需特殊处理）
('ORDER20251026005', '饿了么（亚运村店）', '010-88886665', '北京市朝阳区亚运村安立路',
 '陈先生', '13500135005', '北京市朝阳区亚运村北辰小区',
 'fresh', 9.30, 40, 0, 1);


-- =========================
-- 3. 同步插入订单状态追踪记录（cdms_delivery_trace）
-- =========================
INSERT INTO cdms.cdms_delivery_trace (order_id, status, operator_id, remark)
VALUES
    ('ORDER20251026001', 0, 1, '系统创建订单，待外卖员接单'),
    ('ORDER20251026002', 0, 1, '系统创建订单，待外卖员接单'),
    ('ORDER20251026003', 0, 1, '系统创建订单，待外卖员接单'),
    ('ORDER20251026004', 0, 1, '系统创建订单，待外卖员接单'),
    ('ORDER20251026005', 0, 1, '系统创建订单，待外卖员接单（生鲜件需冷藏）');


-- 执行成功提示
SELECT '外卖员测试数据和订单测试数据插入完成！' AS result;