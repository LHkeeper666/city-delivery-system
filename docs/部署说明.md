---
title: |
  \begin{center}
  同城配送管理系统\\
  功能详细描述
  \end{center}
date: "2025年11月"
mainfont: "SimSun"
sansfont: "Microsoft YaHei"
monofont: "Consolas"
fontsize: 12pt
geometry: margin=2.5cm
linestretch: 1.5
header-includes:
  - \usepackage{graphicx}
  - \usepackage{float}
  - \usepackage{xeCJK}
  - \usepackage{listings}
  - \usepackage{xcolor}
  - \definecolor{codebg}{RGB}{240,240,240}
  - \lstset{
        backgroundcolor=\color{codebg},
        basicstyle=\ttfamily\small,
        breaklines=true,
        frame=single,
        frameround=tttt
    }
  - \setCJKmainfont{SimSun}
  - \setCJKsansfont{Microsoft YaHei}
  - \setmainfont{Times New Roman}
  - \usepackage{fancyhdr}
  - \AtBeginDocument{
        \thispagestyle{empty}
        \clearpage
        \pagestyle{fancy}
    }
  - \fancyhead[L]{同城配送系统}
  - \fancyhead[R]{2025年11月}
  - \fancyfoot[C]{第~\thepage~页}
colorlinks: true
linkcolor: blue
CJKmainfont: "SimSun"
output:
  pdf_document:
    latex_engine: xelatex
    keep_tex: true
---

\newpage

## 一、引言

本文档用于指导用户在服务器或本地环境中部署本系统。
本系统基于 **JDK 8**、**Tomcat 8.5.72**、**MySQL 8** 开发，采用 **MVC 结构 + JSP** 前端，最终以 **WAR 包(J2EE 应用程序)** 的形式进行发布。

本说明书包含运行环境准备、数据库部署、外部配置文件设置、Tomcat 部署步骤，以及常见问题解决方案。

## 二、部署环境要求

| 名称     | 版本要求                   |
| ------ | ---------------------- |
| JDK    | 1.8 及以上                |
| Tomcat | 8.5.x         |
| MySQL  | 8.0              |
| Maven  | 可选，用于源码编译              |
| 操作系统   | Windows / Linux / macOS |

## 三、部署步骤

### 1. 数据库初始化  

在 MySQL 中创建数据库：

\begin{lstlisting}
CREATE DATABASE cdms CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;
\end{lstlisting}

### 2. 数据库配置

在服务器或本地创建配置文件，例如：

\begin{lstlisting}
D:\config\db.properties   （Windows）
/opt/cdms/config/db.properties   （Linux）
\end{lstlisting}
编辑 `db.properties` 文件内容如下：
```properties
db.driver=com.mysql.cj.jdbc.Driver
db.url=jdbc:mysql://localhost:3306/cdms?useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Shanghai
db.username=你的数据库用户名
db.password=你的数据库密码
```

### 3. Tomcat 配置    

在 Tomcat bin 目录下创建或编辑 setenv.bat（Windows）或 setenv.sh（Linux），添加以下内容：
```bat
set "CATALINA_OPTS=-Dcdms.config=完整路径\db.properties"
```
例如：      
```
set "CATALINA_OPTS=-Dcdms.config=D:\config\db.properties"
```
> 路径最好不要包含中文，否则可能提示找不到文件。

### 4. 部署 WAR 文件     

将 `cdms.war` 复制到 Tomcat 的 `webapps` 目录下，例如：      
```
Tomcat安装目录\webapps\cdms.war
```

### 5. 启动 Tomcat

进入 Tomcat 根目录，执行启动命令：        
```
.\bin\startup.bat   （Windows）
./bin/startup.sh    （Linux）
```

### 6. 访问系统

在浏览器中打开：
```http request
http://localhost:8080/cdms/
```
初次登录可使用默认管理员账号：

| 角色  | 用户名  | 密码   |   
| --- | ---- | ---- |   
| 管理员 | root | 1234 |   
